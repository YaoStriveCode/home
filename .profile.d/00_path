#!/bin/sh

without_colon_component()
{
    eval "echo \$$1" | tr ':' '\n' | grep -Fxv "$2" | tr '\n' ':'
}

append_colon_component()
{
    [ -d $2 ] && export $1=$(without_colon_component "$1" "$2"):$2
}

prepend_colon_component()
{
    [ -d $2 ] && export $1=$2:$(without_colon_component "$1" "$2")
}

append_colon_component PATH /sbin
append_colon_component PATH /usr/sbin

prepend_colon_component PATH $HOME/.local/bin
prepend_colon_component PATH $HOME/bin

prepend_colon_component PATH /usr/local/bin
prepend_colon_component PATH /usr/local/git/bin

# gnu toolchain from homebrew
prepend_colon_component PATH    /usr/local/opt/coreutils/libexec/gnubin
prepend_colon_component MANPATH /usr/local/opt/coreutils/libexec/gnuman

cuda_root=/Developer/NVIDIA/CUDA-5.0
export DYLD_LIBRARY_PATH=$cuda_root/lib
append_colon_component PATH $cuda_root/bin
